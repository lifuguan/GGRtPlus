{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "5",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:pf-mvsplat-019",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/finetune_pf_mvsplat_stable.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=model_zoo/pf_mvsplat.pth",
                "++train_dataset=waymo",
                "++train_scenes=[019]",
                "++eval_dataset=waymo",
                "++eval_scenes=[019]",
                "++num_source_views=4",
                "++use_pred_pose=True",
                "++render_video=False",
                "++expname=pf_mvsplat_ft_019"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "4",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "test:pf_mvsplat_ft_019",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/eval/eval_pf_mvsplat.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/eval",
                "+ckpt_path=data/ibrnet/train/out/ft_mvsplat_019/model/model_002000.pth", 
                "++train_dataset=waymo",
                "++train_scenes=[019]",
                "++eval_dataset=waymo",
                "++eval_scenes=['019']",
                "++num_source_views=4",
                "++render_video=False",
                "++use_pred_pose=False",
                "++expname=ft_mvsplat_019"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "3",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "test:pf_mvsplat_ft_room",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/eval/eval_pf_mvsplat.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/eval",
                "+ckpt_path=data/ibrnet/train/out/ft_mvsplat_room/model/model_002000.pth", 
                "++train_dataset=llff_test",
                "++train_scenes=['room']",
                "++eval_dataset=llff_test",
                "++eval_scenes=['room']",
                "++num_source_views=4",
                "++render_video=False",
                "++use_pred_pose=False",
                "++expname=ft_mvsplat_room"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "2",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "test:dgaussian-2",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/eval/eval_dgaussian.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/eval",
                // "+ckpt_path=../pixelsplat/outputs/llff_generalized/checkpoints/llff_generalized_room29.ckpt",  // deferred 泛化权重
                // "+ckpt_path=data/ibrnet/train/out/ft_dgaussian_019/model/model_002800.pth",
                // "+ckpt_path=data/ibrnet/train/out/ft_dgaussian_003/model/model_001500.pth",
                "+ckpt_path=data/ibrnet/train/out/ft_dgaussian_126/model/model_001500.pth",
                // "+ckpt_path=data/ibrnet/train/out/waymo_generalized/generalized_waymo_best.pth", 
                "++eval_dataset=waymo",
                "++eval_scenes=[126]",    
                "++num_source_views=4",
                "++render_video=True",
                "++expname=ft_dgaussian_126",
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "1",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "train:gaussian",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_dgaussian_stable.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                // "+ckpt_path=data/ibrnet/train/out/low_res_room/model/model_005000.pth", // 使用低分辨率ft的权重试试
                "+ckpt_path=../pixelsplat/outputs/llff_generalized/checkpoints/llff_generalized_room29.ckpt",  // deferred 泛化权重
                // "+ckpt_path=data/ibrnet/train/out/llff_generalized_room28.pth",
                "++eval_scenes=[room]",
                "++num_source_views=7",
                "++expname=finetune"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "6",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:dgaussian-room",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/finetune_dgaussian_stable.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=model_zoo/dgaussian_resnet.pth",
                "++eval_scenes=[room]",
                "++train_scenes=[room]",
                "++num_source_views=8",
                "++expname=test",
                "++use_depth_loss=False",
                "++use_pred_pose=True"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "4",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:dgaussian-waymo",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/finetune_dgaussian_stable.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=data/ibrnet/train/out/waymo_generalized/generalized_waymo_best.pth",    // zui you fanhua
                // "+ckpt_path=data/ibrnet/train/out/ft_dgaussian_003_ref_loss/model/model_001000.pth",
                "++train_dataset=waymo",
                "++eval_dataset=waymo",
                "++eval_scenes=[003]",
                "++train_scenes=[003]",
                "++num_source_views=4",
                "++expname=ft_dgaussian_003_ref_loss",
                "++use_depth_loss=False",
                "++use_pred_pose=True",
                "++render_video=False"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "0",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "train:test",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_dgaussian.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=model_zoo/dgaussian_resnet.pth",
                "++eval_scenes=[room]",
                "++train_scenes=[room]",
                "++num_source_views=8",
                "++expname=test",
                "++use_depth_loss=True"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "2",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:mvsplat-room",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_mvsplat.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=model_zoo/pf_mvsplat.pth", 
                "++train_dataset=llff_test",
                "++train_scenes=[room]",
                "++eval_dataset=llff_test",
                "++eval_scenes=[room]",
                "++num_source_views=4",
                "++expname=ft_mvsplat_room"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "2",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:mvsplat-019",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_mvsplat.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=model_zoo/pf_mvsplat.pth", 
                "++train_dataset=waymo",
                "++train_scenes=['019']",
                "++eval_dataset=waymo",
                "++eval_scenes=['019']",
                "++render_video=False",
                "++num_source_views=4",
                "++expname=ft_mvsplat_019"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "2",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:gaussian-fortress",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_gaussian.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=../pixelsplat/outputs/llff_generalized/checkpoints/llff_generalized_room29.ckpt",  // deferred 泛化权重
                "++train_scenes=[fortress]",
                "++eval_scenes=[fortress]",
                "++num_source_views=7",
                "++expname=ft_fortress"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "3",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:gaussian-fern",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_gaussian.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=../pixelsplat/outputs/llff_generalized/checkpoints/llff_generalized_room29.ckpt",  // deferred 泛化权重
                "++train_scenes=[fern]",
                "++eval_scenes=[fern]",
                "++num_source_views=7",
                "++expname=ft_fern"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "6",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "finetune:gaussian-003",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/train_gaussian.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/train",
                "+ckpt_path=data/ibrnet/train/out/ft_dgaussian_003/model/model_000500.pth",
                // "+ckpt_path=data/ibrnet/train/out/ft_019/model/model_000200.pth",  // deferred 泛化权重
                "++train_dataset=waymo",
                "++train_scenes=[003]",
                "++eval_dataset=waymo",
                "++eval_scenes=[003]",
                "++num_source_views=4",
                "++render_video=False",
                "++expname=ft_003"
            ]
        },
        {
            "env": {
                "CUDA_VISIBLE_DEVICES": "7",
                "PYTHONPATH": "${workspaceFolder}"
            },
            "name": "test:dgaussian-waymo",
            "type": "python",
            "request": "launch",
            "program": "${workspaceFolder}/eval/eval_dgaussian.py",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "++rootdir=data/ibrnet/eval",
                // "+ckpt_path=data/ibrnet/train/out/ft_waymo_003/generalized_waymo_best.pth", 
                "+ckpt_path=data/ibrnet/train/out/waymo_generalized/generalized_waymo_best.pth", 
                "++train_dataset=waymo",
                "++train_scenes=[019]",
                "++eval_dataset=waymo",
                "++eval_scenes=['081']",
                "++num_source_views=5",
                "++render_video=False",
                "++expname=test"
            ]
        },
    ]
}